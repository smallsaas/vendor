<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jfeat.am.module.cinema.services.domain.dao.QueryCinemaOrgDao">


    <select id="getCodeByCinemaLineId" resultType="String">
        select t_sys_org.org_code from ca_cinema_line
        left join t_sys_org on t_sys_org.id = ca_cinema_line.org_id
        where CinemaLine.id = #{id}
    </select>

    <select id="getManagerId" resultType="Long">
        select * from t_sys_user
		left join sys_user_role on sys_user_role.user_id = t_sys_user.id
		where sys_user_role.role_id = #{roleId}
        ORDER BY t_sys_user.id asc limit 0,1
    </select>

    <select id="getOrgCodeByOrgId" resultType="String">
        SELECT
	        f.org_code
        FROM
	        t_sys_org f
        LEFT JOIN t_sys_org c ON f.id = c.pid
        WHERE
	        c.id = #{orgId}
    </select>


</mapper>